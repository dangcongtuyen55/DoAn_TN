{
    "sourceFile": "back-end/src/app/controllers/bannerController.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 16,
            "patches": [
                {
                    "date": 1654791504056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1654791555876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,9 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({})\r\n-      .populate(\"createBy\", \"name\")\r\n-      .select(\r\n-        \"name slug price description offer reviews createBy Banner_url createdAt\"\r\n-      );\r\n+    const banners = await Banner.find({});\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: Banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654791905028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,8 @@\n     const { userId } = req.user;\r\n     const banners = await Banner.create({\r\n       ...req.body,\r\n       createBy: userId,\r\n-      slug: slugify(req.body.name),\r\n     });\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       data: {\r\n"
                },
                {
                    "date": 1654793572980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n   try {\r\n     const banners = await Banner.find({});\r\n     res.status(200).json({\r\n       status: \"success\",\r\n-      results: Banners.length,\r\n+      results: banners.length,\r\n       data: {\r\n         banners,\r\n       },\r\n     });\r\n"
                },
                {
                    "date": 1654796595654,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,11 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({});\r\n+    const banners = await Banner.find({})\r\n+      .populate(\"createBy\", \"title\")\r\n+      .select(\"title  product_url \");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654796603241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n     const banners = await Banner.find({})\r\n       .populate(\"createBy\", \"title\")\r\n-      .select(\"title  product_url \");\r\n+      .select(\"title  banner_url \");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654798643493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,57 +17,57 @@\n     // res.json(error);\r\n   }\r\n };\r\n \r\n-exports.createBanner = async (req, res, next) => {\r\n-  try {\r\n-    const { userId } = req.user;\r\n-    const banners = await Banner.create({\r\n-      ...req.body,\r\n-      createBy: userId,\r\n-    });\r\n-    res.status(200).json({\r\n-      status: \"success\",\r\n-      data: {\r\n-        banners,\r\n-      },\r\n-    });\r\n-  } catch (error) {\r\n-    next(error);\r\n-  }\r\n-};\r\n+// exports.createBanner = async (req, res, next) => {\r\n+//   try {\r\n+//     const { userId } = req.user;\r\n+//     const banners = await Banner.create({\r\n+//       ...req.body,\r\n+//       createBy: userId,\r\n+//     });\r\n+//     res.status(200).json({\r\n+//       status: \"success\",\r\n+//       data: {\r\n+//         banners,\r\n+//       },\r\n+//     });\r\n+//   } catch (error) {\r\n+//     next(error);\r\n+//   }\r\n+// };\r\n \r\n-exports.updateBanner = async (req, res, next) => {\r\n-  try {\r\n-    const { userId } = req.user;\r\n-    const { id } = req.params;\r\n-    console.log(req.params);\r\n-    const banners = await Banner.findByIdAndUpdate(\r\n-      id,\r\n-      { ...req.body, updateBy: userId, slug: slugify(req.body.name) },\r\n-      { new: true, runValidator: true }\r\n-    );\r\n-    console.log(banners);\r\n-    res.status(200).json({\r\n-      status: \"success\",\r\n-      data: {\r\n-        banners,\r\n-      },\r\n-    });\r\n-  } catch (error) {\r\n-    next(error);\r\n-  }\r\n-};\r\n-exports.deleteBanner = async (req, res, next) => {\r\n-  try {\r\n-    const { userId } = req.user;\r\n-    const { id } = req.params;\r\n-    await banner.findByIdAndDelete(id);\r\n-    res.status(200).json({\r\n-      status: \"success\",\r\n-      message: \"Banner deleted successfully\",\r\n-      deleteBy: userId,\r\n-    });\r\n-  } catch (error) {\r\n-    next(error);\r\n-  }\r\n-};\r\n+// exports.updateBanner = async (req, res, next) => {\r\n+//   try {\r\n+//     const { userId } = req.user;\r\n+//     const { id } = req.params;\r\n+//     console.log(req.params);\r\n+//     const banners = await Banner.findByIdAndUpdate(\r\n+//       id,\r\n+//       { ...req.body, updateBy: userId, slug: slugify(req.body.name) },\r\n+//       { new: true, runValidator: true }\r\n+//     );\r\n+//     console.log(banners);\r\n+//     res.status(200).json({\r\n+//       status: \"success\",\r\n+//       data: {\r\n+//         banners,\r\n+//       },\r\n+//     });\r\n+//   } catch (error) {\r\n+//     next(error);\r\n+//   }\r\n+// };\r\n+// exports.deleteBanner = async (req, res, next) => {\r\n+//   try {\r\n+//     const { userId } = req.user;\r\n+//     const { id } = req.params;\r\n+//     await banner.findByIdAndDelete(id);\r\n+//     res.status(200).json({\r\n+//       status: \"success\",\r\n+//       message: \"Banner deleted successfully\",\r\n+//       deleteBy: userId,\r\n+//     });\r\n+//   } catch (error) {\r\n+//     next(error);\r\n+//   }\r\n+// };\r\n"
                },
                {
                    "date": 1654798649940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n     const banners = await Banner.find({})\r\n       .populate(\"createBy\", \"title\")\r\n-      .select(\"title  banner_url \");\r\n+      .select(\"title  _url \");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n@@ -17,57 +17,57 @@\n     // res.json(error);\r\n   }\r\n };\r\n \r\n-// exports.createBanner = async (req, res, next) => {\r\n-//   try {\r\n-//     const { userId } = req.user;\r\n-//     const banners = await Banner.create({\r\n-//       ...req.body,\r\n-//       createBy: userId,\r\n-//     });\r\n-//     res.status(200).json({\r\n-//       status: \"success\",\r\n-//       data: {\r\n-//         banners,\r\n-//       },\r\n-//     });\r\n-//   } catch (error) {\r\n-//     next(error);\r\n-//   }\r\n-// };\r\n+exports.createBanner = async (req, res, next) => {\r\n+  try {\r\n+    const { userId } = req.user;\r\n+    const banners = await Banner.create({\r\n+      ...req.body,\r\n+      createBy: userId,\r\n+    });\r\n+    res.status(200).json({\r\n+      status: \"success\",\r\n+      data: {\r\n+        banners,\r\n+      },\r\n+    });\r\n+  } catch (error) {\r\n+    next(error);\r\n+  }\r\n+};\r\n \r\n-// exports.updateBanner = async (req, res, next) => {\r\n-//   try {\r\n-//     const { userId } = req.user;\r\n-//     const { id } = req.params;\r\n-//     console.log(req.params);\r\n-//     const banners = await Banner.findByIdAndUpdate(\r\n-//       id,\r\n-//       { ...req.body, updateBy: userId, slug: slugify(req.body.name) },\r\n-//       { new: true, runValidator: true }\r\n-//     );\r\n-//     console.log(banners);\r\n-//     res.status(200).json({\r\n-//       status: \"success\",\r\n-//       data: {\r\n-//         banners,\r\n-//       },\r\n-//     });\r\n-//   } catch (error) {\r\n-//     next(error);\r\n-//   }\r\n-// };\r\n-// exports.deleteBanner = async (req, res, next) => {\r\n-//   try {\r\n-//     const { userId } = req.user;\r\n-//     const { id } = req.params;\r\n-//     await banner.findByIdAndDelete(id);\r\n-//     res.status(200).json({\r\n-//       status: \"success\",\r\n-//       message: \"Banner deleted successfully\",\r\n-//       deleteBy: userId,\r\n-//     });\r\n-//   } catch (error) {\r\n-//     next(error);\r\n-//   }\r\n-// };\r\n+exports.updateBanner = async (req, res, next) => {\r\n+  try {\r\n+    const { userId } = req.user;\r\n+    const { id } = req.params;\r\n+    console.log(req.params);\r\n+    const banners = await Banner.findByIdAndUpdate(\r\n+      id,\r\n+      { ...req.body, updateBy: userId, slug: slugify(req.body.name) },\r\n+      { new: true, runValidator: true }\r\n+    );\r\n+    console.log(banners);\r\n+    res.status(200).json({\r\n+      status: \"success\",\r\n+      data: {\r\n+        banners,\r\n+      },\r\n+    });\r\n+  } catch (error) {\r\n+    next(error);\r\n+  }\r\n+};\r\n+exports.deleteBanner = async (req, res, next) => {\r\n+  try {\r\n+    const { userId } = req.user;\r\n+    const { id } = req.params;\r\n+    await banner.findByIdAndDelete(id);\r\n+    res.status(200).json({\r\n+      status: \"success\",\r\n+      message: \"Banner deleted successfully\",\r\n+      deleteBy: userId,\r\n+    });\r\n+  } catch (error) {\r\n+    next(error);\r\n+  }\r\n+};\r\n"
                },
                {
                    "date": 1654798675271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n     const banners = await Banner.find({})\r\n       .populate(\"createBy\", \"title\")\r\n-      .select(\"title  _url \");\r\n+      .select(\"title  banner_url \");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654798732154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,10 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({})\r\n-      .populate(\"createBy\", \"title\")\r\n-      .select(\"title  banner_url \");\r\n+    const banners = await Banner.find({});\r\n+\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654801644914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,8 @@\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n     const banners = await Banner.find({});\r\n-\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654801688444,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,13 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({});\r\n+    const banners = await Banner.find({})\r\n+      .populate(\"name\")\r\n+      .select(\r\n+        \"name slug price description offer reviews createBy product_url createdAt\"\r\n+      );\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654801730901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,9 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({})\r\n-      .populate(\"name\")\r\n-      .select(\r\n-        \"name slug price description offer reviews createBy product_url createdAt\"\r\n-      );\r\n+    const banners = await Banner.find({}).select(\"title banner_url\");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1654801773947,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,11 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({}).select(\"title banner_url\");\r\n+    const banners = await Banner.find({})\r\n+      .populate(\"createBy\", \"name\")\r\n+      .select(\"title banner_url\");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n       data: {\r\n"
                },
                {
                    "date": 1655186136532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,11 +7,10 @@\n       .select(\"title banner_url\");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n-      data: {\r\n-        banners,\r\n-      },\r\n+\r\n+      banners,\r\n     });\r\n   } catch (error) {\r\n     next(error);\r\n     // res.json(error);\r\n"
                },
                {
                    "date": 1655186751017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,8 @@\n       .select(\"title banner_url\");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n       results: banners.length,\r\n-\r\n       banners,\r\n     });\r\n   } catch (error) {\r\n     next(error);\r\n"
                },
                {
                    "date": 1655186759188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n const Banner = require(\"../models/Banner\");\r\n \r\n exports.getAllBanners = async (req, res, next) => {\r\n   try {\r\n-    const banners = await Banner.find({})\r\n+    const banners = await Banner.find()\r\n       .populate(\"createBy\", \"name\")\r\n       .select(\"title banner_url\");\r\n     res.status(200).json({\r\n       status: \"success\",\r\n"
                }
            ],
            "date": 1654791504056,
            "name": "Commit-0",
            "content": "const Banner = require(\"../models/Banner\");\r\n\r\nexports.getAllBanners = async (req, res, next) => {\r\n  try {\r\n    const banners = await Banner.find({})\r\n      .populate(\"createBy\", \"name\")\r\n      .select(\r\n        \"name slug price description offer reviews createBy Banner_url createdAt\"\r\n      );\r\n    res.status(200).json({\r\n      status: \"success\",\r\n      results: Banners.length,\r\n      data: {\r\n        banners,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n    // res.json(error);\r\n  }\r\n};\r\n\r\nexports.createBanner = async (req, res, next) => {\r\n  try {\r\n    const { userId } = req.user;\r\n    const banners = await Banner.create({\r\n      ...req.body,\r\n      createBy: userId,\r\n      slug: slugify(req.body.name),\r\n    });\r\n    res.status(200).json({\r\n      status: \"success\",\r\n      data: {\r\n        banners,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n\r\nexports.updateBanner = async (req, res, next) => {\r\n  try {\r\n    const { userId } = req.user;\r\n    const { id } = req.params;\r\n    console.log(req.params);\r\n    const banners = await Banner.findByIdAndUpdate(\r\n      id,\r\n      { ...req.body, updateBy: userId, slug: slugify(req.body.name) },\r\n      { new: true, runValidator: true }\r\n    );\r\n    console.log(banners);\r\n    res.status(200).json({\r\n      status: \"success\",\r\n      data: {\r\n        banners,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\nexports.deleteBanner = async (req, res, next) => {\r\n  try {\r\n    const { userId } = req.user;\r\n    const { id } = req.params;\r\n    await banner.findByIdAndDelete(id);\r\n    res.status(200).json({\r\n      status: \"success\",\r\n      message: \"Banner deleted successfully\",\r\n      deleteBy: userId,\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n"
        }
    ]
}